\def\HandoutMode{}
\def\NotesSecondScreen{1}
\def\ButtonsMode{1}
\documentclass[\HandoutMode,table]{beamer}

\mode<presentation>
\usetheme{CambridgeUS}
\usecolortheme{seahorse}

\usepackage[english]{babel}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{xspace}
\usepackage[noend]{algorithm2e}
\usepackage{listings}
\usepackage{graphicx}

\usepackage{tikz}
\usepackage{ifthen,xstring,calc,pgfopts,tikz-uml}
\usetikzlibrary{positioning}

\usepackage{xcolor}
\usepackage{booktabs}
\usepackage{subfig}
\usepackage[justification=centering,format=hang]{caption}
\usepackage{adjustbox}

\usepackage{pgfpages}
\ifthenelse{\equal{\HandoutMode}{handout}}{%
    \pgfpagesuselayout{2 on 1}[a4paper,border shrink=5mm]
}{%
    \ifthenelse{\not\equal{\NotesSecondScreen}{}}{%
        \setbeameroption{show notes on second screen=right}
    }{}
}

\include{macros}
\newcommand\ac[1]{#1}           % dummy \ac command, does nothing
\renewcommand\hicell{\cellcolor[RGB]{255, 101, 66}}
\newcommand\figwidth\textwidth
\newcommand\buttons[1]{\if\ButtonsMode1 #1 \fi}

\title{\myTitle}
\subtitle{\mySubtitle}
\author{\myName}
\institute[VU]{\myUni}

\AtBeginSubsection[]
{%
    \begin{frame}
        \tableofcontents[currentsection,currentsubsection]
    \end{frame}
}

\input{notes-template}
\setbeamertemplate{note page}[plain+]

\lstdefinelanguage[modern]{C}[ANSI]{C}{%
    morekeywords={bool,true,false,size_t,uint8_t}}

\lstdefinestyle{mystyle}{%
    basicstyle=\small\ttfamily,
    keywordstyle=\color{blue},
    stringstyle=\color{teal},
    commentstyle=\color{red}}

\lstdefinestyle{nonumbered}{%
    style=mystyle,
    numbers=none}

\lstdefinestyle{numbered}{%
    style=mystyle,
    numbers=left,
    numbersep=12pt,
    numberstyle=\tiny,
    xleftmargin=12pt}

\graphicspath{{./distribution_diagrams/png/}}
\newcommand\tdist{\includegraphics[scale=.3]{t_distrib}}
\newcommand\normdist{\includegraphics[scale=.3]{normal}}
\newcommand\nodenormdist[2]{%
    \node[box,#2] (#1) {\normdist};
    \node[box,above of=#1] {$M$};
    \node[box,right of=#1] {$S$};
}
\newcommand\unidist{\includegraphics[scale=.3]{uniform}}
\newcommand\nodeunidist[2]{%
    \node[box,#2] (#1) {\unidist};
    \node[box,left of=#1] {$L$};
    \node[box,right of=#1] {$H$};
}
\newcommand\shifexpdist{\includegraphics[scale=.3]{shifted_exp}}
\newcommand\nodeshifexpdist[2]{%
    \node[box,#2] (#1) {\shifexpdist};
    \node[box,above of=#1] (R) {$R$};
}

\begin{document}

\begin{frame}
    \titlepage%
    \note[item]{welcome everyone}
    \note[item]{present yourself and your work}
    \note[item]{don't be nervous!}
\end{frame}

\begin{frame}
    {Overview}
    \begin{itemize}
        \item{} design a framework that lets diverse fuzzers cooperate
        \item{} evaluating effect of cooperation shows promising results:
            \begin{itemize}
                \item{} increased code coverage
                \item{} $30\%$ more distinct unique crashes
            \end{itemize}
    \end{itemize}
    \note[item]{be brief, concise and clear}
    \note[item]{put emphasis on ``\emph{diverse} fuzzers''}
\end{frame}

\section*{Outline}

\begin{frame}
    \tableofcontents[pausesections]
    \note<1->[item]{we'll begin with a brief introduction to different fuzzing
        techniques and how those can be used together}
    \note<2->[item]{then we'll move on to describe our CFF, with a focus on its
        design and implementation}
    \note<3->[item]{we proceed with an evaluation of fuzzers with and without
        cooperation}
    \note<4->[item]{and finally conclude with a discussion of results and future
        improvements}
\end{frame}

\section{Background and Related Work}

\subsection{Fuzzing Techniques}

\begin{frame}
    {Fuzzing}
    \begin{itemize}
        \item<1-> term coined in 1988 during a quiet and stormy night\ldots%
            \note<1>{%
                Prof. Barton Miller from University of Wisconsin was logged into
                his office's terminal via a dial-up modem. The heavy rain was
                causing noise on the line which would scramble his inputs; he
                noted that this was causing programs on the other end to crash.}
        \item<2-> established reliability and security testing practice
        \item<2-> ``Mayhem'' wins 2016 DARPA Cyber Grand Challenge
            \note<2>[item]{Mayhem -- system that uses S.E.\ + directed fuzz.\ in offence}
            \note<2>[item]{CGC -- world's first all-machine CTF}
        \item<2-> used in industry by Microsoft and Google
            \note<2>[item]{Project Springfield (commercial, Microsoft)}
            \note<2>[item]{OSS-Fuzz (for OSS, Google)}
    \end{itemize}
\end{frame}

\begin{frame}[fragile]
    {Challenges}
\begin{lstlisting}[language={[modern]C},style=numbered]
void process_buffer (const char *buf) {
    size_t n = strlen(buf);
    if (n > 1000 || n < 4)
        return;
    if (buf[1] == 0xFF && buf[0] == 0xFD) {
        uint8_t i = (uint8_t) buf[3];
        if (i > 3 && i < n) {
            if (strncmp(&buf[i], "CHK", 3) == 0) {
                // bug here
            }
        }
    }
}
\end{lstlisting}
    \note{Find an input that lets execution reach bug (line 9)}
    \note[item]{metadata like length (line 3)}
    \note[item]{magic bytes (line 5)}
    \note[item]{markers (\ie~magic bytes at dynamic position) (line 8)}
    \note[item]{nested statements (lines 5,7,8)}
\end{frame}

\begin{frame}
    {Black Box Mutational Fuzzing}
    \note<1>{it is the simplest form of fuzzing}
    \begin{block}<1->{General operation}
        \setbeamercovered{transparent}
        \begin{enumerate}
            \item<2-> select input from seed corpus
                \note<2>[item]{better if valid inputs}
            \item<3-> mutate input to produce new one
                \note<3>[item]{is the core component}
                \note<3>[item]{\eg~bit flips, adding, removing, replacing bytes
                    (or groups of bytes)}
            \item<4-> execute SUT with mutated input
            \item<5-> monitor for unexpected behaviours
                \note<5>[item]{\eg~crash, assertion failures, timeouts\ldots}
        \end{enumerate}
    \end{block}
    \begin{exampleblock}<6->{Examples}
        \begin{itemize}
            \item{} Radamsa, zzuf
                \note<6>[item]{first two implement only step 2 -- mutation; zzuf only bit flips}
            \item{} Basic Fuzzing Framework
                \note<6>[item]{BFF manages entire campaign, adapting parameters on runtime}
        \end{itemize}
    \end{exampleblock}
\end{frame}

\begin{frame}
    {Coverage-Based Gray Box Fuzzing}
    \begin{block}<+->{Overview}
        \begin{itemize}
            \item{} execution is monitored to gain \alert{feedback}
                \note<1>[item]{usually in the form of coverage (\eg~executed
                    instructions, branches, \ldots)}
            \item{} the feedback is used to better instruct the search
        \end{itemize}
    \end{block}
    \begin{exampleblock}<+->{American Fuzzy Lop (AFL)}
        \begin{itemize}
            \item{} instruments the SUT to get coverage feedback
                \note<2>[item]{inject snippet into source or use QEMU}
            \item{} selects ``favorite'' inputs more often
                \note<2>[item]{``favorite'' is smallest and fastest input for
                    any of branches it exercises}
            \item{} mutation as deterministic and havoc stages
                \note<2>[item]{deterministic applies mutation by traversing the
                    input; havoc applies random mutations}
            \item{} stores generated input if branch hit counts change bucket
                \note<2>[item]{allows to track new branches and increased loop
                    executions by powers of two (up to 128+)}
        \end{itemize}
    \end{exampleblock}
\end{frame}

\begin{frame}<presentation:0>[noframenumbering]
    {Other Gray Box Fuzzers}
    \setbeamercovered{transparent}
    \begin{description}
        \item[AFLFast]<1>
            \begin{itemize}
                \item{} models fuzzing as Markov chain
                \item{} focus fuzzing on low frequency paths
            \end{itemize}
        \item[FairFuzz]<2>
            \begin{itemize}
                \item{} focus fuzzing on rare branches
                \item{} search strategy prioritizes inputs that hit a rare branch
                \item{} mutation preserves parts necessary to hit rare branch
            \end{itemize}
        \item[Honggfuzz]<3>
            \begin{itemize}
                \item{} simplifies operation
                \item{} uses hardware sources for coverage
            \end{itemize}
        \item[VUzzer]<4>
            \begin{itemize}
                \item{} population-based model (\ie~Evolutionary Algorithms)
                \item{} fitness function uses branch hit frequencies
                \item{} application-aware recombination and mutation operators
            \end{itemize}
    \end{description}
\end{frame}

\begin{frame}
    {Symbolic-Assisted White Box Fuzzing}
    \begin{block}{Key features}
        \begin{itemize}
            \item{} uses symbolic execution to collect path constraints
                \note<1>[item]{inputs are treated as symbolic variables}
                \note<1>[item]{constraints are collected at branching points}
            \item{} constraints are solved to provide new inputs
                \note<1>[item]{solved for the symbolic variables}
            \item{} symbolic execution and constraint solving \alert{can be slow}
                \note<1>[item]{slow due to path explosion problem (fork state at
                    each branch)}
            \item{} constraints \alert{aren't always solvable}
                \note<1>[item]{aren't solvable due to limitation in solver
                    (\eg~solver handles only linear, while constraint is non-linear)}
                \note<1>[item]{specific target limitations (\eg~\texttt{x = hash(y)})}
        \end{itemize}
    \end{block}
    \begin{exampleblock}<2->{Examples}
        \begin{itemize}
            \item{} DART and SAGE
                \note<2>[item]{DART applies symbolic execution to random testing}
                \note<2>[item]{SAGE expands upon DART\\
                    first white box fuzzer (generational search)}
            \item{} EXE and KLEE
                \note<2>[item]{EXE one of the first examples using concolic execution}
                \note<2>[item]{KLEE improves upon EXE with various optimizations}
            \item{} Mayhem
                \note<2>[item]{Mayhem symbolic execution engine winner of DARPA CGC 2016}
        \end{itemize}
    \end{exampleblock}
\end{frame}

\subsection{Hybrid and Cooperative Fuzzing}

\begin{frame}
    {Hybrid Approaches}
    \structure{Merge white box fuzzers with black or gray box ones}
    \vspace{\baselineskip}
    \begin{exampleblock}<2->{Driller}
        \begin{itemize}
            \item{} uses AFL and custom symbolic execution engine
            \item{} AFL becomes ``stuck'' $\rightarrow$ s.e.\ generates new inputs
                \note<2>[item]{AFL is considered stuck when it does not discover
                    new coverage over a period of time}
        \end{itemize}
    \end{exampleblock}
\end{frame}

\begin{frame}
    {Cooperative Fuzzing}
    \begin{block}{Definition}
        \begin{itemize}
            \item{} fuzzers running in parallel
            \item{} communicate with each other to achieve a common goal
        \end{itemize}
    \end{block}
    \begin{block}{Motivations}
        \begin{itemize}
            \item{} fuzzing is non-deterministic
            \item{} there is no best fuzzer for all possible programs
            \item{} information sharing as a mean to share features
                \note<1>[item]{example: VUzzer may share input with magic bytes to AFL}
        \end{itemize}
    \end{block}
    \begin{exampleblock}<2->{Examples}
        \begin{itemize}
            \item{} L\'evy flight swarms
                \note<2>[item]{Levy: swarm of fuzzers that explore according to Levy
                    flights (\ie~random walk with step lengths that exhibit power
                    law tails) and receive information from neighbors}
            \item{} Chemotactic test case recombination
                \note<2>[item]{Chemotactic: feedback driven explorers guide
                    high-throughput workers}
        \end{itemize}
    \end{exampleblock}
\end{frame}

\section{Cooperative Fuzzing Framework}

\subsection{System Design}

\begin{frame}
    {Common Fuzzer Interface}
    \begin{block}{Three API primitives}
        \begin{itemize}[<+->]
            \item{} \alert{extract} test cases from fuzzer
            \item{} \alert{inject} test cases into fuzzer
            \item{} \alert{congestion control} for slower or generational
                fuzzers
        \end{itemize}
    \end{block}
\end{frame}

\begin{frame}
    {Central Decisional Unit}
    \begin{columns}
        \begin{column}{.5\textwidth}
            \begin{figure}
                \includegraphics[width=.5\textwidth]{figures/dia/system_design_logical}
                \caption{Logical view}
            \end{figure}
            \begin{figure}
                \includegraphics[width=.5\textwidth]{figures/dia/system_design_physical}
                \caption{Physical view}
            \end{figure}
        \end{column}
        \begin{column}{.5\textwidth}
            \begin{itemize}
                \item{} acts as intermediary for information exchange
                \item{} uses API to implement a strategy
            \end{itemize}
        \end{column}
    \end{columns}
\end{frame}

\begin{frame}[fragile]
    {Cooperative Fuzzing Strategies}
\scalebox{.8}{%
    \begin{algorithm}[H]
        \DontPrintSemicolon%
        \SetKwFunction{Score}{Score}
        \SetKwFunction{Winning}{Winning}
        \SetKwFunction{Inject}{Inject}
        \SetKwFunction{WinningC}{WinningCongestion}
        % \SetKwInOut{Input}{Input}\SetKwInOut{Output}{Output}
        % \Input{Set of running fuzzers $F$. Set of fuzzers that need congestion control $F_c$}
        % \BlankLine%
        \ForEach{$f \in F_c$}{%
            $W_f \leftarrow \emptyset$\;
        }
        \While{all fuzzers are running}{%
            \If{new test-case $t$ from a fuzzer $f_t$}{%
                $S \leftarrow \emptyset$\;
                \ForEach{$f \in F \setminus \{f_t\}$}{%
                    $s \leftarrow \Score{f, t}$\;
                    \uIf{$f \in F_c$}{%
                        $W_f \leftarrow W_f \cup \{(t, s)\}$\;
                    }
                    \Else{%
                        $S \leftarrow S \cup \{(f, s)\}$\;
                    }
                }
                \ForEach{$f \in \Winning{S}$}{%
                    \Inject{f, t}\;
                }
            }
            \ForEach{$f \in F_c$}{%
                \If{$f$ is ready to receive inputs}{%
                    \ForEach{$t \in \WinningC{$W_f$}$}{%
                        \Inject{f, t}\;
                    }
                    $W_f \leftarrow \emptyset$\;
                }
            }
        }
    \end{algorithm}
}
\end{frame}

\subsection{System Implementation}

\begin{frame}
    {Overview}
    \begin{tikzpicture}
        \umlbasiccomponent[x=-2,y=0]{Fuzzer}
        \begin{umlcomponent}[x=3,y=0]{CFF}
            \umlbasiccomponent[x=0,y=0]{Driver}
            \umlbasiccomponent[x=4,y=1.5]{Master}
            \only<3->{%
                \umlassemblyconnector[interface=Interesting,geometry=-|,%
                    anchors=180 and 90,first arm]{Master}{Driver}
            }
            \only<4->{%
                \umlassemblyconnector[interface=Metric,geometry=|-,%
                    anchors=230 and 10]{Master}{Driver}
            }
            \only<5->{%
                \umlassemblyconnector[interface=Inject,geometry=-|,%
                    anchors=-30 and 290,first arm]{Driver}{Master}
            }
        \end{umlcomponent}
        \only<2->{%
            \umlassemblyconnector[interface=API]{Driver}{Fuzzer}
        }
    \end{tikzpicture}
\end{frame}

\section{Evaluation}

\subsection{Single Fuzzers Evaluation}

\begin{frame}
    {Is There a Best Fuzzer?}
    \begin{block}{Choice of fuzzers}
        \begin{description}
            \item[\aflfast] CGF with focus on paths
            \item[\fairfuzz] CGF with focus on branches
            \item[\honggfuzz] hardware feedback, high throughput
            \item[\vuzzer] application-aware, population-based
        \end{description}
    \end{block}
    \begin{block}<2->{Experiment design}
        \begin{enumerate}
            \item{} run each fuzzer independently for 24 hours
            \item{} collect coverage with granularity 1 minute
            \item{} compare mean coverage over 5 runs
        \end{enumerate}
    \end{block}
\end{frame}

\begin{frame}[label=single-time]
    {Mean Coverage Over Time}
    \renewcommand\figwidth{.42\textwidth}
    \setcounter{subfigure}{0}
    \vspace{-\baselineskip}
    \begin{figure}
        \begin{adjustbox}{center}
            \subfloat[\djpeg]{%
                \includegraphics[width=\figwidth]{figures/mono-djpeg}
            }
            \subfloat[\objdump]{%
                \includegraphics[width=\figwidth]{figures/mono-objdump}
            }
        \end{adjustbox}
        \begin{adjustbox}{center}
            \subfloat[\tiffpdf]{%
                \includegraphics[width=\figwidth]{figures/mono-tiff2pdf}
            }
            \subfloat[\listswf]{%
                \includegraphics[width=\figwidth]{figures/mono-ming}
            }
        \end{adjustbox}
    \end{figure}
    \buttons{%
        \hyperlink{single-final<1>}{\beamergotobutton{Final means table}}
    }
\end{frame}

\begin{frame}[label=single-best]
    {Bayesian Estimation of Means}
    \renewcommand\figwidth{.32\textwidth}
    \setcounter{subfigure}{0}
    \begin{figure}
        \subfloat[\djpeg\\\honggfuzz\ vs.\ \fairfuzz]{%
            \includegraphics[width=\figwidth]{figures/cropped/djpeg-m-hongg-fair}
        }
        \subfloat[\objdump\\\fairfuzz\ vs.\ \aflfast]{%
            \includegraphics[width=\figwidth]{figures/cropped/objdump-m-fair-afl}
        }
        \subfloat[\tiffpdf\\\aflfast\ vs.\ \fairfuzz]{%
            \includegraphics[width=\figwidth]{figures/cropped/tiff2pdf-m-afl-fair}
        }
    \end{figure}
    \begin{itemize}
        \item{} choose one for all $\longrightarrow$ \alert{\fairfuzz}
        \item{} chose one for each $\longrightarrow$ \alert{indecisive} for \djpeg~and \tiffpdf%
    \end{itemize}
    \buttons{%
        \hyperlink{single-final<1>}{\beamergotobutton{Final means table}}
    }
\end{frame}

\begin{frame}<presentation:0>[noframenumbering]
    {Do Fuzzers Uncover Different Transitions Sets?}
    \structure{Compare the fuzzer with highest coverage with union of fuzzers}
    \vspace{\baselineskip}
    \begin{table}
        \begin{tabular}{l c l c}
            \input{tables/eval-mono-union}
        \end{tabular}
    \end{table}
    \vspace{\baselineskip}
    \structure{Bayesian estimation agrees, except for \djpeg}
\end{frame}

\subsection{Cooperative Fuzzing Evaluation}

\begin{frame}
    {Evaluating the Effect of Cooperation}
    \begin{block}{Cooperative strategies}
        \begin{itemize}
            \item{} score is number of newly discovered BTS transitions
            \item{} single highest winner strategy
            \item{} multiple positive-scored winners strategy
        \end{itemize}
    \end{block}
    \begin{block}<2->{Experiment design}
        \begin{enumerate}
            \item{} run CFF with selected strategy for 6 hours
            \item{} drivers log coverage for respective fuzzer
            \item{} compare mean coverage over 5 runs against union of fuzzers
        \end{enumerate}
    \end{block}
\end{frame}

\begin{frame}[label=coop-time]
    {Mean Coverage Over Time}
    \renewcommand\figwidth{.42\textwidth}
    \setcounter{subfigure}{0}
    \vspace{-\baselineskip}
    \begin{figure}[h]
        \begin{adjustbox}{center}
            \subfloat[\djpeg]{%
                \includegraphics[width=\figwidth]{figures/vs-djpeg}
            }
            \subfloat[\objdump]{%
                \includegraphics[width=\figwidth]{figures/vs-objdump}
            }
        \end{adjustbox}
        \begin{adjustbox}{center}
            \subfloat[\tiffpdf]{%
                \includegraphics[width=\figwidth]{figures/vs-tiff2pdf}
            }
            \subfloat[\listswf]{%
                \includegraphics[width=\figwidth]{figures/vs-ming}
            }
        \end{adjustbox}
    \end{figure}
    \buttons{%
        \hyperlink{coop-final<1>}{\beamergotobutton{Final means table}}
    }
\end{frame}

\begin{frame}[label=coop-best]
    {Bayesian Estimation of Means}
    \renewcommand\figwidth{.28\textwidth}
    \setcounter{subfigure}{0}
    \begin{figure}
        \begin{adjustbox}{center}
            \subfloat[\djpeg\\single vs.\ union]{%
                \includegraphics[width=\figwidth]{figures/cropped/djpeg-m-single-uni}
            }\hspace{-.05\textwidth}
            \subfloat[\objdump\\single vs.\ union]{%
                \includegraphics[width=\figwidth]{figures/cropped/objdump-m-single-uni}
            }\hspace{-.05\textwidth}
            \subfloat[\tiffpdf\\multi vs.\ union]{%
                \includegraphics[width=\figwidth]{figures/cropped/tiff2pdf-m-multi-uni}
            }\hspace{-.05\textwidth}
            \subfloat[\listswf\\multi vs.\ union]{%
                \includegraphics[width=\figwidth]{figures/cropped/ming-m-multi-uni}
            }
        \end{adjustbox}
    \end{figure}
    \begin{itemize}
        \item{} \djpeg, \tiffpdf~and \listswf~$\longrightarrow$ \alert{indecisive}
        \item{} \objdump~$\longrightarrow$ \parbox{.7\textwidth}{%
                \alert{indecisive} but not by much\\
                multi vs.\ union $96.7\%$ of HDI is $> 0$}
    \end{itemize}
    \buttons{%
        \vspace{.5\baselineskip}
        \hyperlink{coop-final<1>}{\beamergotobutton{Final means table}}
    }
\end{frame}

\subsection{Crash Analysis and Known Vulnerabilities}

\begin{frame}
    {Unique Crash Analysis}
    \begin{block}{Obtaining unique crashes}
        \begin{enumerate}
            \item{} fuzzers collect unique crashes in folder
            \item{} re-execute SUT with input and run \texttt{exploitable} (stack hash)
            \item{} stack hash and elapsed time for 5 runs in single file
        \end{enumerate}
    \end{block}
    \vspace{\baselineskip}
    \begin{table}
        \begin{tabular}{l c c c c}
            \input{tables/crashes}
        \end{tabular}
        \caption{Crashes in \listswf}
    \end{table}
\end{frame}

\begin{frame}
    {Unique Crashes Over Time --- \listswf}
    \renewcommand\figwidth{.32\textwidth}
    \setcounter{subfigure}{0}
    \captionsetup[subfigure]{margin=3pt}
    \begin{figure}
        \subfloat[Cumulative]{%
            \includegraphics[width=\figwidth]{figures/cropped/crashes-count-all}
        }
        \subfloat[Density]{%
            \includegraphics[width=\figwidth]{figures/cropped/crashes-all}
        }
        \subfloat[Uncommon density]{%
            \includegraphics[width=\figwidth]{figures/cropped/crashes-not-intersect}
        }
    \end{figure}
\end{frame}

\begin{frame}
    {Known Vulnerabilities --- \listswf}
    \begin{columns}
        \begin{column}{.66\textwidth}
            \renewcommand\figwidth{.33\textwidth}
            \vspace{-20pt}
            \begin{figure}
                \subfloat{%
                    \includegraphics[width=\figwidth]{figures/cropped/cve-2017-7582}
                }
                \subfloat{%
                    \includegraphics[width=\figwidth]{figures/cropped/cve-2017-8782}
                }
                \subfloat{%
                    \includegraphics[width=\figwidth]{figures/cropped/cve-2017-9988}
                }
                \vspace{-8pt}
                \subfloat{%
                    \includegraphics[width=\figwidth]{figures/cropped/cve-2017-9989}
                }
                \subfloat{%
                    \includegraphics[width=\figwidth]{figures/cropped/cve-2018-13066-parser-2029}
                }
                \subfloat{%
                    \includegraphics[width=\figwidth]{figures/cropped/cve-2018-13066-parser-619}
                }
            \end{figure}
        \end{column}
        \begin{column}{.33\textwidth}
            \begin{itemize}
                \item{} over 25 bugs,\\6 linked to a CVE
                \item{} multi winners\\finds all CVE\\found by union
                \item{} all but one found earlier than union
                \item{} finds two CVE\\not found by union
            \end{itemize}
        \end{column}
    \end{columns}
\end{frame}

\section{Discussion and Conclusion}

\begin{frame}
    \tableofcontents[currentsection]
\end{frame}

\subsection*{Discussion}

\begin{frame}
    {Discussion}
    \begin{itemize}
        \item{} \structure{is there a best fuzzer?}
            \begin{itemize}
                \item{} on average yes, but need more than 4 targets
                \item{} indecisive for some targets, need more than 5 runs
            \end{itemize}
        \item{} \structure{does cooperation increase coverage?}
            \begin{itemize}
                \item{} observed means suggest yes (on average better more
                    communication)
                \item{} $95\%$ HDI difference of means never excludes zero
                \item{} nonetheless promising results, need more data
            \end{itemize}
        \item{} \structure{what is the effect of cooperation on crashes?}
            \begin{itemize}
                \item{} unfortunately data only on one target
                \item{} multi finds $30\%$ more distinct unique crashes than union
                \item{} multi finds more unique crashes not found by other
                \item{} multi has strongly bimodal crash density
                \item{} multi finds all CVE union finds (+2 more), earlier
            \end{itemize}
    \end{itemize}
\end{frame}

\subsection*{Conclusion}

\begin{frame}
    {Conclusion}
    \begin{block}{Summary}
        \begin{itemize}
            \item{} design of Cooperative Fuzzing Framework
            \item{} prototype implementation of CFF
            \item{} evaluation of single fuzzers and cooperation
        \end{itemize}
    \end{block}
    \begin{block}{Future work}
        \begin{itemize}
            \item{} more experiments (targets, runs)
            \item{} more fuzzers (purely black box or white box)
            \item{} more complex strategies / scoring functions
        \end{itemize}
    \end{block}
\end{frame}

\appendix

\section{\appendixname}

\setbeamertemplate{page number in head/foot}{}

\begin{frame}[noframenumbering]
    \tableofcontents[]
\end{frame}

\AtBeginSubsection[]{}

\subsection{Bayesian Estimation}

\begin{frame}[noframenumbering,label=best]
    {Bayesian Estimation Supersedes the $t$ Test}
    \begin{center}
        \begin{tikzpicture}[
            box/.style = {rectangle,
                color = lightgray,
                text = black,
                text width = 2cm,
                align = center},
            node distance=.3cm]
            \node[box] (y1) {$y_{1i}$};
            \node[box,xshift=4cm] (y2) {$y_{2i}$};
            \node[box,above=of y1] (t1) {\tdist};
            \node[box,above=of y2] (t2) {\tdist};
            \node[box,above=of y1,yshift=.5cm] (mu1) {$\mu_1$};
            \node[box,above=of y2,yshift=.5cm] (mu2) {$\mu_2$};
            \node[box,above=of y1.west,yshift=.4cm] (sig1) {$\sigma_1$};
            \node[box,above=of y2.east,yshift=.4cm] (sig2) {$\sigma_2$};
            \node[box,above=of y1.north east,yshift=.4cm] (nu1) {$\nu$};
            \node[box,above=of y2.north west,yshift=.4cm] (nu2) {$\nu$};
            \nodeshifexpdist{nu}{above=of t1,yshift=-.8cm,xshift=2cm}
            \nodenormdist{norm1}{above=of t1}
            \nodenormdist{norm2}{above=of t2}
            \nodeunidist{uni1}{above=of t1.north west,yshift=-.8cm,xshift=-.6cm}
            \nodeunidist{uni2}{above=of t2.north east,yshift=-.8cm,xshift=.6cm}
            \draw[->] (t1) -- (y1);
            \draw[->] (t2) -- (y2);
            \draw[->] (norm1) -- node[left] {$\sim$} (mu1);
            \draw[->] (norm2) -- node[left] {$\sim$} (mu2);
            \draw[->] (uni1) -- node[left] {$\sim$} (sig1);
            \draw[->] (uni2) -- node[right] {$\sim$} (sig2);
            \draw[->] (nu) -- node[left] {$\sim$} (nu1);
            \draw[->] (nu) -- node[right] {$\sim$} (nu2);
        \end{tikzpicture}
    \end{center}
    \begin{itemize}
        \item{} models two groups of observations as two $t$ distributions\\
            parameters are $\langle\mu_1,\sigma_1,\mu_2,\sigma_2,\nu\rangle$
        \item{} broad priors with parameters scaled on data
        \item{} Markov Chain Monte Carlo sampling\\
            (\eg~$\mu_1-\mu_2$ computed at each sample)
    \end{itemize}
\end{frame}

\subsection{Mean Coverage Tables}

\begin{frame}[noframenumbering,label=single-final]
    {Final Mean Coverage for Single Fuzzers}
    \begin{table}
        \scriptsize
        \begin{tabular}{l*{4}c}
            \input{tables/eval-mono}
        \end{tabular}
    \end{table}
    \buttons{%
        \vspace{2\baselineskip}
        \hyperlink{single-time<1>}{\beamerreturnbutton{Coverage over time}}
        \hyperlink{single-best<1>}{\beamerreturnbutton{Bayesian estimation}}
    }
\end{frame}

\begin{frame}[noframenumbering,label=coop-final]
    {Final Mean Coverage for Cooperative Fuzzing}
    \begin{table}
        \begin{tabular}{l c c c}
            \input{tables/eval-coop}
        \end{tabular}
    \end{table}
    \buttons{%
        \vspace{2\baselineskip}
        \hyperlink{coop-time<1>}{\beamerreturnbutton{Coverage over time}}
        \hyperlink{coop-best<1>}{\beamerreturnbutton{Bayesian estimation}}
    }
\end{frame}

\subsection{Overhead Evaluation}

\begin{frame}[noframenumbering]
    {Overhead of CFF}
    \begin{block}{Sources of overhead}
        \begin{itemize}
            \item{} fuzzers synchronize with file system
            \item{} drivers:
                \begin{itemize}
                    \item{} get BTS trace for every ``interesting'' input
                    \item{} reply to metric requests (BTS diff)
                    \item{} receives new input from master (copy input, add coverage)
                \end{itemize}
            \item{} master:
                \begin{itemize}
                    \item{} interacts with ZeroMQ channels
                    \item{} selects winner(s)
                \end{itemize}
        \end{itemize}
    \end{block}
    \vspace{\baselineskip}
    \structure{Average CPU usage is $0.18\%$ (master) and $3.05\%$ (driver)}
\end{frame}

\end{document}
